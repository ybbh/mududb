投票应用需求文档

## 1. 项目概述

本项目旨在开发一个基于手机号码的在线投票应用。
核心功能包括：用户通过手机号认证、创建并管理投票、参与投票、以及查看投票结果与历史记录。

## 2. 用户角色

普通用户：通过手机号登录，可参与投票、查看投票结果及个人历史记录。

投票创建者：具备普通用户所有权限，并可创建和管理自己发起的投票。

## 3. 核心功能详述

### 3.1. 用户认证

登录/注册：用户使用手机号码进行应用注册与登录。

## 3.2. 创建投票

### 用户（即创建者）可发起一个新投票，并需设置以下内容：

投票主题/问题：投票的核心议题。

投票选项：提供至少两个可选项。

投票规则：

1. 投票类型：

    1. 单选：每个投票者只能选择一个选项。
    2. 多选：创建者需指定每个投票者可选择的最大选项数。

2. 截止时间：设定一个未来的时间点，到达该时间后投票自动结束。

3. 结果可见性规则：

    1. 随时可见：在投票过程中，任何人都可以实时查看当前结果。

    2. 结束后可见：仅在投票截止时间过后，才允许查看最终结果。

## 3.3. 参与投票

资格验证：在投票截止时间前，一个手机号对同一个投票有且仅有一次有效投票权。

投票：用户根据投票规则（单选/多选）选择一个或多个选项提交。

撤回投票：在截止时间前，用户可撤回自己已投出的票。撤回后，该投票记录失效。

重新投票：在截止时间前，如果用户已撤回投票，可以重新进行投票（仍受投票规则限制）。

最终锁定：一旦到达投票截止时间，所有投票结果将被永久锁定，用户无法再进行投票、撤回或重新投票。

## 3.4. 查看投票与历史记录

用户可查看以下列表：

1. 我发起的投票：用户自己创建的所有投票列表。

2. 我参与的投票：一个聚合历史记录，包含用户曾进行过投票、撤回、重新投票等所有操作过的投票。

## 3.5. 查看投票结果

结果展示受创建者设置的 “结果可见性规则” 控制：

若规则为 “随时可见” ，则用户在投票前、投票中、投票后均可查看实时结果。

若规则为 “结束后可见” ，则在投票截止时间之前，所有用户（包括创建者和参与者）无法查看任何结果；截止时间到达后，方可查看最终结果。
